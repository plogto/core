enum CreditTransactionStatus {
  APPROVED
  PENDING
  FAILED
  CANCELED
}

enum CreditTransactionDescriptionVariableType {
  ticket
  user
  tag
}

enum CreditTransactionDescriptionVariableKey {
  ticket
  invited_user
  inviter_user
}

enum CreditTransactionTemplateName {
  INVITE_USER
  REGISTER_BY_INVITATION_CODE
  APPROVE_TICKET
}

enum CreditTransactionType {
  ORDER
  TRANSFER
  COMMISSION
  FUND
}

type CreditTransactionDescriptionVariable {
  id: UUID!
  type: CreditTransactionDescriptionVariableType!
  key: CreditTransactionDescriptionVariableKey!
  content: String!
  url: String
  image: String
}

type CreditTransactionTemplate {
  id: UUID!
  name: CreditTransactionTemplateName!
  content: String!
}

type CreditTransactionInfo {
  id: UUID!
  description: String
  descriptionVariables: [CreditTransactionDescriptionVariable]
  status: CreditTransactionStatus!
  template: CreditTransactionTemplate
  createdAt: Time
  updatedAt: Time
}

type CreditTransaction {
  id: UUID!
  user: User!
  recipient: User!
  amount: Float!
  type: CreditTransactionType
  url: String!
  info: CreditTransactionInfo!
  relevantTransaction: CreditTransaction
}

type CreditTransactionsEdge {
  cursor: String!
  node: CreditTransaction
}

type CreditTransactions {
  totalCount: TotalCount!
  edges: [CreditTransactionsEdge]!
  pageInfo: PageInfo!
}

extend type Query {
  getCreditTransactions(pageInfoInput: PageInfoInput): CreditTransactions
}

enum CreditTransactionStatus {
  APPROVED
  PENDING
  FAILED
  CANCELED
}

enum CreditTransactionDescriptionVariableType {
  USER
  TAG
}

enum CreditTransactionTemplateName {
  INVITE_USER
  REGISTER_BY_INVITATION_CODE
}

enum CreditTransactionType {
  ORDER
  TRANSFER
  COMMISSION
  FUND
}

type CreditTransactionDescriptionVariable {
  id: ID!
  type: CreditTransactionDescriptionVariableType!
  key: String!
  content: String!
  url: String
  image: String
}

type CreditTransactionTemplate {
  id: ID!
  name: CreditTransactionTemplateName!
  content: String!
}

type CreditTransactionInfo {
  id: ID!
  description: String
  descriptionVariables: [CreditTransactionDescriptionVariable]
  status: CreditTransactionStatus!
  template: CreditTransactionTemplate
  createdAt: Time
  updatedAt: Time
}

type CreditTransaction {
  id: ID!
  user: User!
  recipient: User!
  amount: Float!
  type: CreditTransactionType
  url: String!
  info: CreditTransactionInfo!
  relevantTransaction: CreditTransaction
}

type CreditTransactionsEdge {
  cursor: String!
  node: CreditTransaction
}

type CreditTransactions {
  totalCount: Int
  edges: [CreditTransactionsEdge]
  pageInfo: PageInfo!
}

input CreateCreditTransactionInput {
  senderId: ID!
  receiverId: ID!
  amount: Float!
  description: String
}


extend type Query {
  getCreditTransactions(pageInfoInput: PageInfoInput): CreditTransactions
}

extend type Mutation {
  createCreditTransaction(input: CreateCreditTransactionInput!): CreditTransaction
}

